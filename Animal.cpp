#include "Animal.h"
#include "World.h"

Animal::Animal(Vector2f pos) {
    this->setPos(pos);
}

Animal::Animal(float x, float y) {
	this->setPos(x, y);
}

Animal::~Animal() {

}

void Animal::update(int dt) {
	if (rand() % 100 <= temp) {
		//change state
		if (state == IDLE) {
			change_dir();
			state = MOVING;
		}
		else {
			state = IDLE;
		}
	}
	else {
		temp++;
		switch (state)
		{
		case IDLE:
			jump = false;
			break;
		case MOVING:
			move();
			break;
        case SLEEP:
            sleep();
            break;
		default:
			break;
		}
	}
}

void Animal::move() {
	{
		pos.x += vel.x;
		pos.y += vel.y;
		hunger -= 1;
        desire_for_sleep += 1;
        if (desire_for_sleep > 100) {
            state = SLEEP;
        }

		if (jump == false && jump_frame > 5)
		{
			jump = true;
			jump_frame = 0;
		}
		else if (jump == true && jump_frame > 10)
		{
			jump = false;
			jump_frame = 0;
		}
		jump_frame++;

		if (state == MOVING && hunger < 10) {
			eatGrass();
		}
	}
}

// 잠 자는 함수 정의
void Animal::sleep() {
    if (desire_for_sleep < 1) {
        state = MOVING;
    }
    // 잠을 자는 동작 구현
    // 여기에 잠 자는 모습 넣기
}

void Animal::eatGrass() {
	{
        // 현재 동물의 위치
        Vector2f animalPos = getPos();
        //풀들 중에서 가장 가까운거 찾기
        // 가장 가까운 풀의 위치
    Vector2f closestGrassPos;
    float closestDistance = std::numeric_limits<float>::max();  // 최대값으로 초기화
    // 풀을 찾아서 가장 가까운 풀의 위치를 찾음



    // 풀 포지션 배열값만 받아내면 오나성
    /*
    for (const Vector2f& grassPos : environment.getPositions()) {
        float distance = std::sqrt(std::pow(animalPos.x - grassPos.x, 2) + std::pow(animalPos.y - grassPos.y, 2));

        if (distance < closestDistance) {
            closestDistance = distance;
            closestGrassPos = grassPos;
        }
    }
    */



    // 찾은 풀로 이동
        moveTo(closestGrassPos);

    // 풀에 도착하면 EATING 상태로 전환
    if (closestDistance < 1.0f) {
        state = EATING;
    }
    // 풀까지 이동 중인 경우, 상태를 MOVING으로 유지
    else {
        state = MOVING;
    }
        // 풀까지 좌표이동하면
        state == EATING;
		// 여기에 풀을 먹는 동작을 추가
		

		//world.window->display();
	}
}
// moveTo 함수를 이용하여 동물을 특정 위치로 이동시키는 함수 추가
void Animal::moveTo(const Vector2f& targetPos) {
    /*// 이동 방향 설정
    float angle = std::atan2(targetPos.y - pos.y, targetPos.x - pos.x);
    vel.x = speed * std::cos(angle);
    vel.y = speed * std::sin(angle);
    
    // 동물의 위치 업데이트
    pos.x += vel.x;
    pos.y += vel.y;

    // 동물의 상태 업데이트
    hunger -= 1;

    // 이동한 위치가 풀의 위치인 경우, 풀을 먹음
    if (state == MOVING && hunger < 10) {
        eatGrass();
    }
    */
}
void Animal::change_dir() {
	direction = rand() % 360;
	temp = 0;
	vel.y = speed * sin(direction * PI / 180);
	vel.x = speed * cos(direction * PI / 180);
	jump = false;
	jump_frame = 0;
}


const static char rabbit_left[19][16] = { {'0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0'},
{'0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0'},
{'0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0'},
{'0', '0', '0', '0', '1', '0', '1', '0', '0', '0', '0', '0', '0', '0', '0', '0'},
{'0', '0', '0', '1', '2', '1', '2', '1', '0', '0', '0', '0', '0', '0', '0', '0'},
{'0', '0', '0', '1', '3', '1', '3', '1', '0', '0', '0', '0', '0', '0', '0', '0'},
{'0', '0', '0', '1', '3', '1', '3', '1', '0', '0', '0', '0', '0', '0', '0', '0'},
{'0', '0', '1', '2', '2', '2', '2', '1', '0', '0', '0', '0', '0', '0', '0', '0'},
{'0', '1', '2', '2', '2', '2', '2', '2', '1', '1', '1', '0', '0', '0', '0', '0'},
{'0', '1', '2', '2', '1', '2', '2', '2', '2', '2', '2', '1', '0', '0', '0', '0'},
{'0', '1', '3', '2', '1', '2', '2', '2', '2', '2', '2', '2', '1', '1', '1', '0'},
{'0', '1', '2', '2', '2', '2', '2', '2', '2', '2', '2', '2', '1', '2', '1', '0'},
{'0', '0', '1', '1', '2', '2', '2', '2', '2', '2', '2', '2', '2', '1', '1', '0'},
{'0', '0', '0', '0', '1', '2', '2', '2', '2', '1', '1', '2', '2', '2', '1', '0'},
{'0', '0', '0', '1', '2', '2', '1', '1', '1', '2', '2', '2', '2', '2', '1', '0'},
{'0', '0', '0', '1', '1', '1', '0', '0', '0', '1', '1', '1', '1', '1', '1', '0'},
{'0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0'},
{'0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0'},
{'0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0'} };


const static char rabbit_left_jump[19][16] = { {'0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0'},
{'0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0'},
{'0', '0', '0', '1', '0', '1', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0'},
{'0', '0', '1', '2', '1', '2', '1', '0', '0', '0', '0', '0', '0', '0', '0', '0'},
{'0', '0', '1', '8', '1', '8', '1', '0', '0', '0', '0', '0', '0', '0', '0', '0'},
{'0', '0', '1', '8', '3', '8', '3', '0', '0', '0', '0', '0', '0', '0', '0', '0'},
{'0', '1', '2', '2', '2', '2', '3', '0', '0', '0', '0', '0', '0', '0', '0', '0'},
{'1', '2', '2', '2', '2', '2', '2', '1', '1', '1', '0', '0', '0', '0', '0', '0'},
{'1', '2', '2', '1', '2', '2', '2', '2', '2', '2', '1', '0', '0', '0', '0', '0'},
{'1', '8', '2', '1', '2', '2', '2', '2', '2', '2', '2', '1', '1', '1', '0', '0'},
{'1', '2', '2', '2', '2', '2', '2', '2', '2', '2', '2', '1', '2', '1', '0', '0'},
{'0', '1', '1', '2', '2', '2', '2', '2', '2', '2', '2', '2', '1', '1', '0', '0'},
{'0', '0', '0', '1', '2', '2', '2', '2', '1', '1', '2', '2', '2', '1', '0', '0'},
{'0', '0', '0', '1', '2', '2', '1', '1', '0', '0', '1', '2', '2', '2', '1', '0'},
{'0', '0', '0', '1', '2', '1', '0', '0', '0', '0', '0', '1', '1', '2', '2', '1'},
{'0', '0', '0', '0', '1', '0', '0', '0', '0', '0', '0', '0', '0', '1', '1', '1'},
{'0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0'},
{'0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0'},
{'0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0'} };


const static char rabbit_right[19][16] = { {'0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0'},
{'0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0'},
{'0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0'},
{'0', '0', '0', '0', '0', '0', '0', '0', '0', '1', '0', '1', '0', '0', '0', '0'},
{'0', '0', '0', '0', '0', '0', '0', '0', '1', '2', '1', '2', '1', '0', '0', '0'},
{'0', '0', '0', '0', '0', '0', '0', '0', '1', '3', '1', '3', '1', '0', '0', '0'},
{'0', '0', '0', '0', '0', '0', '0', '0', '1', '3', '1', '3', '1', '0', '0', '0'},
{'0', '0', '0', '0', '0', '0', '0', '0', '1', '2', '2', '2', '2', '1', '0', '0'},
{'0', '0', '0', '0', '0', '1', '1', '1', '2', '2', '2', '2', '2', '2', '1', '0'},
{'0', '0', '0', '0', '1', '2', '2', '2', '2', '2', '2', '1', '2', '2', '1', '0'},
{'0', '1', '1', '1', '2', '2', '2', '2', '2', '2', '2', '1', '2', '3', '1', '0'},
{'0', '1', '2', '1', '2', '2', '2', '2', '2', '2', '2', '2', '2', '2', '1', '0'},
{'0', '1', '1', '2', '2', '2', '2', '2', '2', '2', '2', '2', '1', '1', '0', '0'},
{'0', '1', '2', '2', '2', '1', '1', '2', '2', '2', '2', '1', '0', '0', '0', '0'},
{'0', '1', '2', '2', '2', '2', '2', '1', '1', '1', '2', '2', '1', '0', '0', '0'},
{'0', '1', '1', '1', '1', '1', '1', '0', '0', '0', '1', '1', '1', '0', '0', '0'},
{'0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0'},
{'0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0'},
{'0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0'} };


const static char rabbit_right_jump[19][16] = { {'0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0'},
{'0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0'},
{'0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '1', '0', '1', '0', '0', '0'},
{'0', '0', '0', '0', '0', '0', '0', '0', '0', '1', '2', '1', '2', '1', '0', '0'},
{'0', '0', '0', '0', '0', '0', '0', '0', '0', '1', '3', '1', '3', '1', '0', '0'},
{'0', '0', '0', '0', '0', '0', '0', '0', '0', '1', '3', '1', '3', '1', '0', '0'},
{'0', '0', '0', '0', '0', '0', '0', '0', '0', '1', '2', '2', '2', '2', '1', '0'},
{'0', '0', '0', '0', '0', '0', '1', '1', '1', '2', '2', '2', '2', '2', '2', '1'},
{'0', '0', '0', '0', '0', '1', '2', '2', '2', '2', '2', '2', '1', '2', '2', '1'},
{'0', '0', '1', '1', '1', '2', '2', '2', '2', '2', '2', '2', '1', '2', '3', '1'},
{'0', '0', '1', '2', '1', '2', '2', '2', '2', '2', '2', '2', '2', '2', '2', '1'},
{'0', '0', '1', '1', '2', '2', '2', '2', '2', '2', '2', '2', '2', '1', '1', '0'},
{'0', '0', '1', '2', '2', '2', '1', '1', '2', '2', '2', '2', '1', '0', '0', '0'},
{'0', '1', '2', '2', '2', '1', '0', '0', '1', '1', '2', '2', '1', '0', '0', '0'},
{'1', '2', '2', '1', '1', '0', '0', '0', '0', '0', '1', '2', '1', '0', '0', '0'},
{'1', '1', '1', '0', '0', '0', '0', '0', '0', '0', '0', '1', '0', '0', '0', '0'},
{'0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0'},
{'0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0'},
{'0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0'} };


const static char rabbit_back[19][16] = { {'0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0'},
{'0', '0', '1', '1', '0', '0', '0', '0', '0', '0', '0', '1', '1', '0', '0', '0'},
{'0', '0', '1', '2', '1', '0', '0', '0', '0', '0', '1', '2', '1', '0', '0', '0'},
{'0', '0', '1', '3', '2', '1', '0', '0', '0', '1', '2', '3', '1', '0', '0', '0'},
{'0', '0', '0', '1', '3', '2', '1', '1', '1', '2', '3', '1', '0', '0', '0', '0'},
{'0', '0', '0', '0', '1', '2', '2', '2', '2', '2', '1', '0', '0', '0', '0', '0'},
{'0', '0', '0', '0', '1', '2', '2', '2', '2', '2', '1', '0', '0', '0', '0', '0'},
{'0', '0', '0', '0', '1', '2', '2', '2', '2', '2', '1', '0', '0', '0', '0', '0'},
{'0', '0', '0', '1', '2', '1', '2', '2', '2', '1', '2', '1', '0', '0', '0', '0'},
{'0', '0', '1', '2', '2', '2', '2', '2', '2', '2', '2', '2', '1', '0', '0', '0'},
{'0', '0', '1', '2', '2', '2', '2', '2', '2', '2', '2', '2', '1', '0', '0', '0'},
{'0', '0', '1', '2', '2', '2', '2', '2', '2', '2', '2', '2', '1', '0', '0', '0'},
{'0', '0', '1', '2', '2', '2', '2', '2', '2', '2', '2', '2', '1', '0', '0', '0'},
{'0', '0', '0', '1', '2', '2', '2', '2', '2', '2', '2', '1', '0', '0', '0', '0'},
{'0', '0', '1', '2', '2', '1', '2', '2', '2', '1', '2', '2', '1', '0', '0', '0'},
{'0', '0', '0', '1', '1', '1', '2', '2', '2', '1', '1', '1', '0', '0', '0', '0'},
{'0', '0', '0', '0', '0', '0', '1', '1', '1', '0', '0', '0', '0', '0', '0', '0'},
{'0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0'},
{'0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0'} };


const static char rabbit_back_jump[19][16] = { {'0', '0', '1', '1', '0', '0', '1', '0', '1', '0', '0', '1', '1', '0', '0', '0'},
{'0', '0', '1', '2', '1', '1', '2', '1', '2', '1', '1', '2', '1', '0', '0', '0'},
{'0', '0', '1', '3', '2', '1', '2', '1', '2', '1', '2', '3', '1', '0', '0', '0'},
{'0', '0', '0', '1', '3', '2', '1', '1', '1', '2', '3', '1', '0', '0', '0', '0'},
{'0', '0', '0', '0', '1', '2', '2', '2', '2', '2', '1', '0', '0', '0', '0', '0'},
{'0', '0', '0', '1', '1', '2', '2', '2', '2', '2', '1', '1', '0', '0', '0', '0'},
{'0', '0', '1', '2', '1', '2', '2', '2', '2', '2', '1', '2', '1', '0', '0', '0'},
{'0', '0', '1', '1', '2', '1', '2', '2', '2', '1', '2', '1', '1', '0', '0', '0'},
{'0', '0', '1', '2', '2', '2', '2', '2', '2', '2', '2', '2', '1', '0', '0', '0'},
{'0', '0', '1', '2', '2', '2', '2', '2', '2', '2', '2', '2', '1', '0', '0', '0'},
{'0', '0', '1', '2', '2', '2', '2', '2', '2', '2', '2', '2', '1', '0', '0', '0'},
{'0', '0', '1', '2', '2', '2', '2', '2', '2', '2', '2', '2', '1', '0', '0', '0'},
{'0', '0', '0', '1', '2', '2', '2', '2', '2', '2', '2', '1', '0', '0', '0', '0'},
{'0', '0', '0', '1', '2', '2', '2', '2', '2', '2', '2', '1', '0', '0', '0', '0'},
{'0', '0', '0', '1', '2', '1', '1', '1', '1', '1', '2', '1', '0', '0', '0', '0'},
{'0', '0', '0', '1', '2', '1', '0', '0', '0', '1', '2', '1', '0', '0', '0', '0'},
{'0', '0', '1', '2', '2', '1', '0', '0', '0', '1', '2', '2', '1', '0', '0', '0'},
{'0', '0', '1', '2', '2', '1', '0', '0', '0', '1', '2', '2', '1', '0', '0', '0'},
{'0', '0', '0', '1', '1', '0', '0', '0', '0', '0', '1', '1', '0', '0', '0', '0'} };


const static char rabbit_front[19][16] = { {'0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0'},
{'0', '1', '1', '0', '0', '0', '0', '0', '1', '1', '0', '0', '0', '0', '0', '0'},
{'0', '1', '2', '1', '0', '0', '0', '1', '2', '1', '0', '0', '0', '0', '0', '0'},
{'0', '1', '3', '2', '1', '0', '1', '2', '3', '1', '0', '0', '0', '0', '0', '0'},
{'0', '0', '1', '3', '1', '0', '1', '3', '1', '0', '0', '0', '0', '0', '0', '0'},
{'0', '0', '1', '2', '2', '1', '2', '2', '1', '0', '0', '0', '0', '0', '0', '0'},
{'0', '1', '2', '2', '2', '2', '2', '2', '2', '1', '0', '0', '0', '0', '0', '0'},
{'0', '1', '2', '1', '2', '2', '2', '1', '2', '1', '0', '0', '0', '0', '0', '0'},
{'0', '1', '2', '1', '2', '2', '2', '1', '2', '1', '0', '0', '0', '0', '0', '0'},
{'0', '1', '2', '2', '2', '3', '2', '2', '2', '1', '0', '0', '0', '0', '0', '0'},
{'0', '0', '1', '2', '2', '2', '2', '2', '1', '1', '0', '0', '0', '0', '0', '0'},
{'0', '0', '0', '1', '1', '1', '1', '1', '1', '0', '0', '1', '1', '0', '0', '0'},
{'0', '0', '1', '1', '2', '2', '2', '2', '1', '1', '1', '2', '2', '1', '0', '0'},
{'0', '1', '2', '1', '2', '2', '2', '2', '1', '2', '1', '2', '2', '1', '0', '0'},
{'0', '1', '2', '1', '2', '2', '2', '2', '1', '2', '2', '1', '1', '0', '0', '0'},
{'0', '1', '2', '1', '2', '1', '2', '2', '1', '2', '2', '1', '0', '0', '0', '0'},
{'0', '1', '1', '2', '2', '1', '2', '2', '1', '2', '2', '1', '0', '0', '0', '0'},
{'0', '0', '1', '1', '1', '1', '1', '1', '1', '1', '1', '0', '0', '0', '0', '0'},
{'0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0'} };


const static char rabbit_front_jump[19][16] = { {'0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0'},
{'0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0'},
{'0', '0', '0', '0', '1', '1', '0', '0', '0', '1', '1', '0', '0', '0', '0', '0'},
{'0', '0', '0', '0', '1', '2', '1', '1', '1', '2', '1', '0', '0', '0', '0', '0'},
{'0', '0', '0', '0', '1', '2', '2', '2', '2', '2', '1', '0', '0', '0', '0', '0'},
{'0', '0', '0', '1', '2', '1', '2', '2', '2', '1', '2', '1', '0', '0', '0', '0'},
{'0', '0', '0', '1', '3', '2', '1', '2', '1', '2', '3', '1', '0', '0', '0', '0'},
{'0', '0', '0', '0', '1', '3', '1', '1', '1', '3', '1', '0', '0', '0', '0', '0'},
{'0', '0', '0', '1', '2', '2', '2', '2', '2', '2', '2', '1', '0', '0', '0', '0'},
{'0', '0', '0', '1', '2', '1', '2', '2', '2', '1', '2', '1', '0', '0', '0', '0'},
{'0', '0', '0', '1', '2', '1', '2', '2', '2', '1', '2', '1', '0', '0', '0', '0'},
{'0', '0', '0', '1', '2', '2', '2', '3', '2', '2', '2', '1', '0', '0', '0', '0'},
{'0', '0', '0', '1', '1', '2', '2', '2', '2', '2', '1', '1', '0', '0', '0', '0'},
{'0', '0', '1', '2', '1', '1', '1', '1', '1', '1', '1', '2', '1', '0', '0', '0'},
{'0', '0', '1', '2', '2', '1', '0', '0', '0', '1', '2', '2', '1', '0', '0', '0'},
{'0', '0', '1', '1', '1', '1', '0', '0', '0', '1', '1', '1', '1', '0', '0', '0'},
{'0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0'},
{'0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0'},
{'0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0'} };


void Animal::draw(const char a[19][16]) {
    for (int i = 0; i < 19; i++)
    {
        for (int j = 0; j < 16; j++) {
            if (a[i][j] == '1')
            {
                sf::RectangleShape shape_r(sf::Vector2f(3, 3));
                shape_r.setFillColor(sf::Color(0, 0, 0));
                shape_r.setPosition(pos.x + j * 3, pos.y + i * 3);
                world.window->draw(shape_r);
            }
            else if (a[i][j] == '2')
            {
                sf::RectangleShape shape_r(sf::Vector2f(3, 3));
                shape_r.setFillColor(sf::Color(255, 255, 255));
                shape_r.setPosition(pos.x + j * 3, pos.y + i * 3);
                world.window->draw(shape_r);
            }
            else if (a[i][j] == '3')
            {
                sf::RectangleShape shape_r(sf::Vector2f(3, 3));
                shape_r.setFillColor(sf::Color(255, 130, 255));
                shape_r.setPosition(pos.x + j * 3, pos.y + i * 3);
                world.window->draw(shape_r);
            }
        }
    }
}

void Animal::draw() {
    {
        if ((direction < 45) || (direction > 315)) // move right
        {
            if (!jump) // jump x
                draw(rabbit_right);
            else // jump 0
                draw(rabbit_right_jump);
        }
        else if ((direction >= 135) && (direction <= 225)) // move left
        {
            if (!jump) // jump x
                draw(rabbit_left);
            else // jump 0
                draw(rabbit_left_jump);
        }
        else if ((direction >= 225) && (direction <= 315)) // move top
        {
            if (!jump) // jump x
                draw(rabbit_back);
            else // jump 0
                draw(rabbit_back_jump);
        }
        else if ((direction >= 45) && (direction <= 135)) // move down
        {
            if (!jump) // jump x
                draw(rabbit_front);
            else // jump 0
                draw(rabbit_front_jump);
        }
    }
}

void Animal::print_status() {
	printf("vel_x : %f\n", vel.x);
	printf("vel_y : %f\n", vel.y);
}

int Animal::get_state() {
    return state;
}
int Animal::get_hunger() {
    return hunger;
}

Rabbit::Rabbit(float x, float y) :Animal(x, y) {};

int Rabbit::get_type() {
    return RABBIT;
}

